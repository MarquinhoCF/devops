Vagrant.configure("2") do |config|
  # Define a box base da VM: neste caso, Ubuntu 20.04 LTS (Focal Fossa)
  config.vm.box = "ubuntu/focal64"   

  # Configura o redirecionamento de porta:
  # Porta 80 da VM (onde o Apache roda) será acessível na porta 8080 do host
  config.vm.network "forwarded_port", guest: 80, host: 8080

  # Define uma pasta compartilhada entre host e VM
  # "./html" no host será acessível em "/vagrant/html" na VM
  config.vm.synced_folder "./html", "/vagrant/html"

  # Desativa atualizações automáticas do plugin vbguest
  # Evita erros de Guest Additions incompatíveis
  config.vbguest.auto_update = false

  # Provisionamento automático da VM via script shell
  # O arquivo "provision.sh" será executado dentro da VM na primeira inicialização
  config.vm.provision "shell", path: "provision.sh"
end
